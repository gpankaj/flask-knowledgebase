{% extends "bootstrap/base.html" %}

{% import "bootstrap/wtf.html" as wtf %}

{% block title %}Quick Knowledge Base - Engineering Tools{% endblock %}

{% block head %}



<script src="{{ url_for('static', filename='js/jquery-1.8.1.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.dataTables.min.js') }}"></script>

<script>
$(document).ready(function() {
  $(".search").keyup(function () {
    var searchTerm = $(".search").val();
    var listItem = $('.results tbody').children('tr');
    var searchSplit = searchTerm.replace(/ /g, "'):containsi('")

  $.extend($.expr[':'], {'containsi': function(elem, i, match, array){
        return (elem.textContent || elem.innerText || '').toLowerCase().indexOf((match[3] || "").toLowerCase()) >= 0;
    }
  });

  $(".results tbody tr").not(":containsi('" + searchSplit + "')").each(function(e){
    $(this).attr('visible','false');
  });

  $(".results tbody tr:containsi('" + searchSplit + "')").each(function(e){
    $(this).attr('visible','true');
  });

  var jobCount = $('.results tbody tr[visible="true"]').length;
    $('.counter').text(jobCount + ' item');

  if(jobCount == '0') {$('.no-result').show();}
    else {$('.no-result').hide();}
		  });
});
</script>


{{ super() }}
{% endblock %}

{% block navbar %}

<div class="container">

    <nav class="navbar navbar-inverse">



        <div class="navbar-header">
           <a class="navbar-brand" href="{{url_for('knowledge.index')}}">IT Knowledge Base</a>
        </div>

        <ul class="nav navbar-nav">
            {% if current_user.is_authenticated() %}
            <li>
                <a class="navbar-brand" href="{{url_for('knowledge.my_questions')}}">My Questions</a>
            </li>
            {% endif %}
            <li>
                <a class="navbar-brand" href="{{url_for('knowledge.all_questions')}}">All Questions</a>
            </li>

        {% if current_user.is_authenticated() %}
            <li>
                <a class="navbar-brand" href="{{url_for('knowledge.question')}}">Ask a Question</a>
            </li>
            <li>
                <a  class="navbar-brand" href="{{url_for('knowledge.preference',username=current_user.email)}}">Preference</a>
            </li>

            <li>
                <a class="navbar-brand" href="{{url_for('knowledge.logout',username=current_user.email)}}">Logout</a>
            </li>

            <li class="nav navbar-nav navbar-right text-primary">
                Welcome {{ current_user.name }}
            </li>

        {% endif %}

            {% if not current_user.is_authenticated() %}
            {% block replace_login_url %}

            {% endblock %}

        {% endif %}
        </ul>



        <ul class="navbar-brand navbar-right">
            <a href="{{url_for('knowledge.help')}}">Help</a>
        </ul>
    </nav>

{% endblock %}


{% block content %}


        {% for message in get_flashed_messages() %}
            <div class="alert alert-warning">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
            {{ message }}
            </div>
            {% endfor %}


            {% block page_content %}{% endblock %}

{% endblock %}

</div>




{% block scripts %}


<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">


{{ super() }}






{{ moment.include_moment() }}

{% endblock %}